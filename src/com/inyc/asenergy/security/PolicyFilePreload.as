package com.inyc.asenergy.security {	import com.inyc.asenergy.security.data.Policy;	import com.inyc.asenergy.security.data.PolicyDataProvider;	import flash.events.Event;	import flash.net.URLLoader;	import com.inyc.asenergy.data.XMLLoader;	import com.inyc.asenergy.events.XMLLoaderEvent;	public class PolicyFilePreload extends XMLLoader 	{		//private var config:Class;				public var dataProvider:PolicyDataProvider;						public override function completeHandler(event : Event) : void 		{			var loader:URLLoader = URLLoader(event.target);						try {				var dataXML:XML = XML(loader.data);								dataProvider = parseMenuData(dataXML.policyFiles.policy);								dispatchEvent(new XMLLoaderEvent(XMLLoaderEvent.COMPLETE, false));			} catch (error:Error) {				trace("Error: " + error.message);				dispatchEvent(new XMLLoaderEvent(XMLLoaderEvent.ERROR, false));				return;			}        }        		public function parseMenuData(list : XMLList) : PolicyDataProvider		{			var dp:    PolicyDataProvider = new PolicyDataProvider();			var n:     int = list.length();			var i:     int;			var ref:   String;			var policy:Policy;						for (i = 0; i < n; i++) {				policy = new Policy();				ref = list[i].attribute("ref");				policy.data(ref);								dp.addItem(policy);            }						return dp;		}				/*public function set configClass(c : Class) : void		{			config = c;		}*/			}	}