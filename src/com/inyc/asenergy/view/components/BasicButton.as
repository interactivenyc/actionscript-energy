package com.inyc.asenergy.view.components {		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;			import flash.events.ErrorEvent;
	/**	 * @author stevewarren	 */	public class BasicButton extends CoreMovieClip {		private var _selected:Boolean = false;		public var bg:MovieClip;		public static var EVENT_CLICK:String = "EVENT_CLICK";						public function BasicButton(){			log("BasicButton CONSTRUCTOR");			this.buttonMode = true;			addEventListener(MouseEvent.ROLL_OVER, onRollOver);			addEventListener(MouseEvent.MOUSE_DOWN, onMouseDown);			addEventListener(MouseEvent.MOUSE_UP, onMouseUp);			addEventListener(MouseEvent.ROLL_OUT, onRollOut);			addEventListener(MouseEvent.CLICK, onClick);						gotoAndStop(1);			if(!bg)bg = new MovieClip();			bg.gotoAndStop(1);		}						protected function onClick(e:MouseEvent):void{			if (!_selected && enabled) {				//log("onClick:" + e.target.name);				dispatchEvent(new Event(EVENT_CLICK));			}		}						protected function onRollOver(e:MouseEvent):void{			if (!_selected && enabled) {				//log("onRollOver _selected:"+_selected);				gotoAndStop("over");				try{
					bg.gotoAndStop("over");
				}catch(e:ErrorEvent){
					log("ErrorEvent: "+e.type);
				}							}		}				protected function onRollOut(e:MouseEvent):void{			if (!_selected && enabled) {				//log("onRollOut _selected:"+_selected);				gotoAndStop("up");				try{					bg.gotoAndStop("up");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}			}		}				protected function onMouseDown(e:MouseEvent):void{			if (!_selected && enabled) {				//log("onRollOut _selected:"+_selected);				gotoAndStop("down");				try{					bg.gotoAndStop("down");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}							}		} 				protected function onMouseUp(e:MouseEvent):void{			if (!_selected && enabled) {				//log("onRollOut _selected:"+_selected);				gotoAndStop("over");				try{					bg.gotoAndStop("over");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}							}		} 				public function set selected(pSelected:Boolean):void {			_selected = pSelected;			if (_selected && enabled) {				//log("selected = "+this.name);				//try down first, and if there is a selected state, then go there				gotoAndStop("down");				gotoAndStop("selected");								try{					bg.gotoAndStop("down");						bg.gotoAndStop("selected");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}				buttonMode = false;			}else{				//log("UN-selected = "+this.name);				gotoAndStop("up");								try{					bg.gotoAndStop("up");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}				buttonMode = true;			}		}				public function get selected():Boolean {			return _selected;		}				override public function set enabled(pEnabled:Boolean):void{			super.enabled = pEnabled;						//log("enabled:"+pEnabled);			if (pEnabled){				useHandCursor = true;				buttonMode = true;				gotoAndStop("up");								try{					bg.gotoAndStop("up");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}			}else{				useHandCursor = false;				buttonMode = false;				gotoAndStop("disabled");								try{					bg.gotoAndStop("disabled");				}catch(e:ErrorEvent){					log("ErrorEvent: "+e.type);				}			}		}									}}