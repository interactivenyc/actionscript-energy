package com.inyc.asenergy.view.components {	import com.inyc.asenergy.events.AppEvents;	import com.inyc.asenergy.events.GenericDataEvent;	import com.inyc.asenergy.utils.MovieClipUtils;		import flash.display.MovieClip;	import flash.events.Event;		/**	 * @author stevewarren	 */	public class DialogBox extends CoreMovieClip {		private var _action:String = "ok";		//public var bg:MovieClip;				public function DialogBox() {			super();			//log("CONSTRUCTOR");\		}				override protected function onAddedToStage(e:Event):void{			super.onAddedToStage(e);			stage.dispatchEvent(new GenericDataEvent(AppEvents.DIALOG_OPEN, {dialog:this}));			addEventListener(Event.ENTER_FRAME, dispatchDialogDisplayedEvent);		}				private function dispatchDialogDisplayedEvent(e:Event){			log("dispatchDialogDisplayedEvent");			removeEventListener(Event.ENTER_FRAME, dispatchDialogDisplayedEvent);			stage.dispatchEvent(new GenericDataEvent(AppEvents.DIALOG_DISPLAYED, {dialog:this}));						var blocker:MovieClip = MovieClipUtils.getFilledMC(parent.width, parent.height, 0x000000);			blocker.x = -x;			blocker.y = -y;			blocker.alpha = .5;			blocker.mouseEnabled = false;			addChildAt(blocker,0);		}		protected function dispatchCloseEvent(action:String = "ok"){			_action = action;			stage.dispatchEvent(new GenericDataEvent(AppEvents.DESTROY_DIALOG, {dialog:this, action:_action}));		}		public function destroy():void {			stage.dispatchEvent(new GenericDataEvent(AppEvents.DIALOG_CLOSE, {dialog:this, action:_action}));		}									}}